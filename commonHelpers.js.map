{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".inputsrc\");\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250\n});\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    const searchParams = new URLSearchParams({\n      key: '41766309-9b727aff341ca6e5a641aa2fb',\n      q: input.value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true'\n    });\n  \n    fetch(`https://pixabay.com/api/?${searchParams}`)\n      .then((response) => {\n        loader.classList.remove('hide');\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then((images) => {\n        setTimeout(() => {\n          loader.classList.add('hide');\n          gallery.innerHTML = \"\";\n          if (images.hits.length > 0) {\n            const imglist = images.hits.reduce((html, hit) => {\n              return (\n                html +\n                `<li>\n          <a href=\"${hit.largeImageURL}\">\n            <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" class=\"gallery-image\">\n          </a>\n          <div class=\"info\">\n            <div class=\"field\">\n              <span class=\"label\">Likes</span>\n              <span class=\"value\">${hit.likes}</span>\n            </div>\n            <div class=\"field\">\n              <span class=\"label\">Views</span>\n              <span class=\"value\">${hit.views}</span>\n            </div>\n            <div class=\"field\">\n              <span class=\"label\">Comments</span>\n              <span class=\"value\">${hit.comments}</span>\n            </div>\n            <div class=\"field\">\n              <span class=\"label\">Downloads</span>\n              <span class=\"value\">${hit.downloads}</span>\n            </div>\n          </div>\n          </li>`\n              )\n            }, '')\n            gallery.insertAdjacentHTML('beforeend', imglist);\n            lightbox.refresh();\n\n          } else {\n            iziToast.error({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight'\n            });\n          }\n        }, 2000);\n        \n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      form.reset();\n    });\n});\n"],"names":["form","input","loader","gallery","lightbox","SimpleLightbox","event","searchParams","response","images","imglist","html","hit","iziToast","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,WAAW,EAC1CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGN,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAED,MAAM,4BAA4BM,GAAc,EAC7C,KAAMC,GAAa,CAElB,GADAN,EAAO,UAAU,OAAO,MAAM,EAC1B,CAACM,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMC,GAAW,CAChB,WAAW,IAAM,CAGf,GAFAP,EAAO,UAAU,IAAI,MAAM,EAC3BC,EAAQ,UAAY,GAChBM,EAAO,KAAK,OAAS,EAAG,CAC1B,MAAMC,EAAUD,EAAO,KAAK,OAAO,CAACE,EAAMC,IAEtCD,EACA;AAAA,qBACKC,EAAI;AAAA,wBACDA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKlBA,EAAI;AAAA;AAAA;AAAA;AAAA,oCAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,oCAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,oCAIJA,EAAI;AAAA;AAAA;AAAA,iBAKzB,EAAE,EACLT,EAAQ,mBAAmB,YAAaO,CAAO,EAC/CN,EAAS,QAAO,CAE5B,MACYS,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACxB,CAAa,CAEJ,EAAE,GAAI,CAEf,CAAK,EACA,MAAOC,GAAU,CAChB,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbd,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}